---
layout: default
title: 1. Shapefile to TopoJSON
parent: NIMS ğŸ‘©â€ğŸ’» 
nav_order: 1
---

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

---

## From Shapefile to TopoJSON   

a transformation process from the Shapefile format to the TopoJSON format, both of which are file formats used in geographic information systems (GIS).   
{: .fs-3 }
---
### Shapefile
{: .fs-3 }

[Download the latest SHP file of administrative divisions]("http://www.gisdeveloper.co.kr/?p=2332")   
Shapefiles are a popular file format used in geographic information systems (GIS) for storing the geometric location and attribute information of spatial features.   
Shapefiles store the geometry of spatial features using vector coordinates. This geometry can represent various types of features like points, lines, and polygons (areas).   
[[ESRI Shapefile Technical Description]]("https://www.esri.com/content/dam/esrisites/sitecore-archive/Files/Pdfs/library/whitepapers/pdfs/shapefile.pdf")   
{: .fs-3 }
---
### Shapefile to GeoJSON
{: .fs-3 }

- GeoJSON    
GeoJSON is a format for encoding a variety of geographic data structures. 
```
{
    "type": "Feature",
    "geometry": {
        "type": "Point",
        "coordinates": [125.6, 10.1]
    },
    "properties": {
        "name": "Dinagat Islands"
    }
}
```  
{: .fs-3 }

  - ì†ì„±í…Œì´ë¸” í™•ì¸í•˜ê¸° (QGIS)   
    ë ˆì´ì–´ íŒ¨ë„ì—ì„œ [sig] layerì— ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ > 'ì†ì„± í…Œì´ë¸” ì—´ê¸°(A)' í´ë¦­
  
  - ë‹¤ë¥¸ íŒŒì¼ê³¼ ê²°í•©í•˜ì§€ ì•Šì„ ë•Œ   
    1. [íŒŒì¼ëª…].shp íŒŒì¼ ì¶”ê°€(ë ˆì´ì–´ íŒ¨ë„ì— íŒŒì¼ ë“œë˜ê·¸)   
    2. ë ˆì´ì–´ íŒ¨ë„ì—ì„œ [sig] layerì— ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ > 'Export' > 'ê°ì²´ë¥¼ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥' > ì•„ë˜ì˜ ë‚´ìš© ì‘ì„± ë’¤ 'í™•ì¸' ë²„íŠ¼ í´ë¦­   
    *í¬ë§·: GeoJSON / íŒŒì¼ ì´ë¦„: íŒŒì¼ ìœ„ì¹˜â‚©[filename].geojson / ì¢Œí‘œê³„: í”„ë¡œì íŠ¸ ì¢Œí‘œê³„: EPSG:4326 - WGS 84 / ì¸ì½”ë”©: UTF-8*   
    3. geoJSON íŒŒì¼ì´ ìƒì„±ë¨.
   <br>
  - ì†ì„±í…Œì´ë¸”ì˜ ì¶”ê°€ ì •ë³´ë¥¼ csvì—ì„œ ê°€ì ¸ì™€ ì¡°ì¸í•˜ê¸°
    1. [íŒŒì¼ëª…].shp íŒŒì¼ ì¶”ê°€(ë ˆì´ì–´ íŒ¨ë„ì— íŒŒì¼ ë“œë˜ê·¸)      
    2. csv íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°   
        ë ˆì´ì–´ > ë°ì´í„° ì›ë³¸ ê´€ë¦¬ì í´ë¦­   
        êµ¬ë¶„ìë¡œ ë¶„ë¦¬ëœ í…ìŠ¤íŠ¸ í´ë¦­ > íŒŒì¼ ì„ íƒ > ì¸ì½”ë”© í™•ì¸(UTF-8) > ë„í˜•ì—†ìŒ(ì†ì„±ë§Œ ìˆëŠ” í…Œì´ë¸”) í´ë¦­ > ì¶”ê°€ í´ë¦­   
        ë ˆì´ì–´ì— ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŒ    
    3. ì†ì„± ê²°í•©í•˜ê¸°   
        ë ˆì´ì–´ì†ì„±> ê²°í•© > + ë²„íŠ¼ í´ë¦­     
        ë²¡í„° ê²°í•© ì¶”ê°€í•˜ê¸°    
            *ê²°í•© ë ˆì´ì–´: csv íŒŒì¼ëª… / ëŒ€ìƒ í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ë¨¸ì§€ ì •ë³´ ì¶”ê°€*
        ì ìš© > í™•ì¸
        ì†ì„± í…Œì´ë¸” í™•ì¸
    4. ë ˆì´ì–´ íŒ¨ë„ì—ì„œ sig layerì— ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ > Export > ê°ì²´ë¥¼ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥
    5. geoJSON íŒŒì¼ì´ ìƒì„±ë¨
{: .fs-3 }
---
### GeoJSON to TopoJSON
{: .fs-3 }

- TopoJSON   [topojson specification]("https://github.com/topojson/topojson-specification")  
  TopoJSON is an extension of GeoJSON that encodes topology. Rather than representing geometries discretely, geometries in TopoJSON files are stitched together from shared line segments called arcs   
```
{
    "type": "Topology",
    "objects": {
        "dinagatIslands": {
            "type": "GeometryCollection",
            "geometries": [
                {
                    "type": "Point",
                    "properties": {
                        "name": "Dinagat Islands"
                    },
                    "coordinates": [125.6, 10.1]
                }
            ]
        }
    }
}
```
[mapshaper]("https://mapshaper.org/")
1. geoJSON íŒŒì¼ ë“œë˜ê·¸ ì¸
2. "detect line intersections" ì²´í¬ > import í´ë¦­
3. simplify í´ë¦­ > Settings ì¡°ì ˆ(ì‘ì„ìˆ˜ë¡ ê²½ê³„ê°€ ë‹¨ìˆœí•´ì§) > "Visvalingam/weighted area" ì„ íƒ > apply
4. Export í´ë¦­ > TopoJSON í´ë¦­ > Export í´ë¦­
5. topoJSON íŒŒì¼ì´ ìƒì„±ë¨
{: .fs-3 }
   
---
