---
layout: default
title: 4. Electron
parent: NIMS ğŸ‘©â€ğŸ’» 
nav_order: 4
---

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

---
_[electron ê³µì‹í™ˆí˜ì´ì§€]("https://www.electronjs.org/")ë¥¼ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•œ í˜ì´ì§€ì…ë‹ˆë‹¤._
## 0. Electron Introduction
### 1. what is electron? 
![web_application27.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application27.png?raw=true) 


Electronì€ JavaScript, HTML, CSSë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ìŠ¤í¬íƒ‘ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬.    
ë³„ë„ì˜ ë„¤ì´í‹°ë¸Œ ê°œë°œ ê²½í—˜ì—†ì´ Chromium(Frontend)ê³¼ Node.js(Backend)ë¥¼ ì´ì§„íŒŒì¼ì— í¬í•¨ì‹œì¼œ(í•˜ë‚˜ì˜ ëŸ°íƒ€ì„ìœ¼ë¡œ í†µí•©í•˜ì—¬ êµ¬ì„±)    
Electronì€ í•˜ë‚˜ì˜ JavaScript ì½”ë“œë² ì´ìŠ¤ë¥¼ ìœ ì§€í•˜ë©´ì„œ Windows, macOS, Linuxì—ì„œ ì‘ë™í•˜ëŠ” í¬ë¡œìŠ¤ í”Œë«í¼ ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
{: .fs-3 }   


### 2.process model

chromiumì˜ ë‹¤ì¤‘ ì•„í‚¤í…ì³ë¥¼ ë¬¼ë ¤ë°›ì•„ main processì™€ render process ë‘ ê°€ì§€ ìœ í˜•ì˜ í”„ë¡œì„¸ìŠ¤ ì œê³µ 
{: .fs-3 }  

![web_application28.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application28.png?raw=true)   

main process   
Node.js ê¸°ë°˜ìœ¼ë¡œ Node.jsì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ëª¨ë“ˆ(~~*all of Node.js APIs*~~) ì‚¬ìš© ê°€ëŠ¥, back-endì˜ ì˜ì—­. ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§„ì…ì  ì—­í• (*~~the application's entry point~~*). electron application ë‹¹ 1ê°œë§Œ ì¡´ì¬í•  ìˆ˜ ìˆìŒ.
{: .fs-3 }   

*  window management   
create and manage application windows with theÂ [BrowserWindow](https://www.electronjs.org/docs/latest/api/browser-window)Â module  
*~~í™”ë©´ì— ì°½ì„ ë„ìš°ê³  ë„ëŠ” ê¸°ë³¸ì ì¸ ë™ì‘ë¶€í„° ìë™ ì—…ë°ì´íŠ¸, ë©”ë‰´ ì»¤ìŠ¤í…€ ë“±ì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤. ë˜í•œ Renderer Processì™€ì˜ í†µì‹ ì„ í†µí•´ ë‹¤ì–‘í•œ í™”ë©´ì„ ì°½ì— ë„ìš°ê²Œ ëœë‹¤~~*  
{: .fs-3 }   

* Application lifecycle (ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒëª…ì£¼ê¸° ì œì–´)
{: .fs-3 }   

render process  
HTML, CSS, JavaScriptë¡œ ì´ë£¨ì–´ì§€ëŠ”, front-endì˜ ì˜ì—­. ì½˜í…ì¸ ë¥¼ ë Œë”ë§í•˜ëŠ” ì—­í• .   
chromiumì˜ ë©€í‹° í”„ë¡œì„¸ìŠ¤ ì•„í‚¤í…ì²˜ê°€ ê·¸ëŒ€ë¡œ ì´ìš©, ì¼ë ‰íŠ¸ë¡  ì•ˆì—ì„œ ë³´ì´ëŠ” ê°ê°ì˜ ì›¹í˜ì´ì§€ëŠ” ìì‹ ì˜ process ì•ˆì—ì„œ ë™ì‘. electron application ë‹¹ ê°œìˆ˜ ì œí•œ ì—†ì´ ì—¬ëŸ¬ ê°œê°€ ì¡´ì¬í•  ìˆ˜ ìˆìŒ.   
{: .fs-3 }   

<details>
<summary>
ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ì˜ ì°¨ì´ì    
</summary>
<div markdown="1">

[ì›ë¬¸ë³´ê¸°]("https://tinydew4.gitbooks.io/electron-ko/content/tutorial/quick-start.html")

ë©”ì¸ í”„ë¡œì„¸ìŠ¤ëŠ”Â BrowserWindowÂ Classë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì°½ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.Â  BrowserWindowÂ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë”°ë¡œ ë¶„ë¦¬ëœ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë Œë”ë§ ë˜ë©° ì´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¼ê³  í•©ë‹ˆë‹¤.Â BrowserWindowÂ ì¸ìŠ¤í„´ìŠ¤ê°€ ì†Œë©¸í•  ë•Œ ê·¸ ì°½ì˜ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ë„ ê°™ì´ ì†Œë©¸í•©ë‹ˆë‹¤.
{: .fs-3 }   
    
ë©”ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ëª¨ë“  ì›¹ í˜ì´ì§€ì™€ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ê´€ë¦¬í•˜ë©° ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ëŠ” ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ì— ê³ ë¦½ë˜ë©° ì›¹ í˜ì´ì§€ì˜ ì‘ë™ì—ë§Œ ì˜í–¥ì„ ë¼ì¹©ë‹ˆë‹¤.
{: .fs-3 }   
    
ì›¹ í˜ì´ì§€ ë‚´ì—ì„  ê¸°ë³¸ì ìœ¼ë¡œ ë„¤ì´í‹°ë¸Œ GUIì™€ ê´€ë ¨ëœ APIë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë„ë¡ ì„¤ê³„ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì›¹ í˜ì´ì§€ ë‚´ì—ì„œ ë„¤ì´í‹°ë¸Œ GUI ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ë³´ì•ˆì— ì·¨ì•½í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ëˆ„ìˆ˜ì‹œí‚¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê¼­ ì›¹ í˜ì´ì§€ ë‚´ì—ì„œ APIë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ê·¸ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì™€ í†µì‹ ì„ í•´ì•¼ í•©ë‹ˆë‹¤.
{: .fs-3 }   
    
Electronì—ëŠ” ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ ì‚¬ì´ì— í†µì‹ ì„ í•  ìˆ˜ ìˆë„ë¡Â [ipcRenderer](https://tinydew4.gitbooks.io/electron-ko/content/api/ipc-renderer.html)ì™€Â [ipcMain](https://tinydew4.gitbooks.io/electron-ko/content/api/ipc-main.html)Â ëª¨ë“ˆì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ë˜ëŠ”Â [remote](https://tinydew4.gitbooks.io/electron-ko/content/api/remote.html)Â ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ RPC ìŠ¤íƒ€ì¼ë¡œ í†µì‹ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤
{: .fs-3 }   

</div>
</details>


### 3.Inter-Process Communication (IPC)
[tutorial IPC](https://www.electronjs.org/docs/latest/tutorial/ipc)  
![web_application29.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application29.png?raw=true)   
Electronì˜ í”„ë¡œì„¸ìŠ¤ ëª¨ë¸ì—ì„œ ë©”ì¸í”„ë¡œì„¸ìŠ¤ì™€ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì„œë¡œ ë‹¤ë¥¸ ì—­í• ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ ì‚¬ì´ì— í†µì‹ ì„ í•  ìˆ˜ ìˆë„ë¡Â ipcRendererì™€Â ipcMainÂ ëª¨ë“ˆì„ ì œê³µ
[ì›ë¬¸ë³´ê¸°](https://velog.io/@qortmdalsdl/%EC%9D%BC%EB%A0%89%ED%8A%B8%EB%A1%A0Electron-%EC%A0%95%EB%A6%AC)
{: .fs-3 }   

[ì°¸ê³ ìë£Œ]   
[Electron ê°œìš” ë° êµ¬ì¡°](https://velog.io/@yijaee/Electron-%EA%B0%9C%EC%9A%94-%EB%B0%8F-%EA%B5%AC%EC%A1%B0)   
[ì¼ë ‰íŠ¸ë¡ (Electron) ì •ë¦¬](https://velog.io/@qortmdalsdl/%EC%9D%BC%EB%A0%89%ED%8A%B8%EB%A1%A0Electron-%EC%A0%95%EB%A6%AC)
{: .fs-3 }   

---
## 1. Prerequisites
Electron appì„ ê°œë°œí•˜ê¸° ìœ„í•´ì„œëŠ” (LTS ì´ìƒì˜)Node.jsì™€ npm package managerê°€ ì„¤ì¹˜ë˜ì–´ì•¼í•œë‹¤.  
{: .fs-3 }   

macOSë¥¼ ê¸°ì¤€ìœ¼ë¡œ,Â homebrewë¥¼ ì„¤ì¹˜í•˜ê³ Â homebrewë¥¼ ì´ìš©í•˜ì—¬Â nvmì„ ì„¤ì¹˜, ê·¸ë¦¬ê³ Â nvmì„ ì´ìš©í•˜ì—¬Â nodeë¥¼ ì„¤ì¹˜í•˜ë©´ ëœë‹¤. ìì„¸í•œ ì„¤ì¹˜ ë°©ë²•ì€Â [ì°¸ê³ ë¸”ë¡œê·¸](https://memostack.tistory.com/274)ì— ì„¤ëª…ì´ ì˜ ë˜ì–´ìˆë‹¤.Â npmì€Â nodeë¥¼ ì„¤ì¹˜í•˜ë©´ ì„¤ì¹˜ê°€ ë  ê²ƒì´ë‹¤.   
{: .fs-3 }   

âœ”ï¸ ì„¤ì¹˜ ë° ë²„ì „ í™•ì¸í•˜ê¸°
{: .fs-3 }   
```
node -v
npm -w
```
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">
![web_application31.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application31.png?raw=true)  
</div>
</details>

[ì°¸ê³ ìë£Œ]   
[Elctron ì‹œì‘í•˜ê¸°](https://oraange.tistory.com/30)
{: .fs-3 }   

---
## 2. Building your First App - Setting up your project
### Initializing your npm project

> Start by creating a folder and initializing an npm package within it withÂ npm init.  
{: .fs-3 }   


```
mkdir my-electron-app
cd my-electron-app
npm init
```
<details>
<summary>
  ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application32.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application32.png?raw=true)    
This command will prompt you to configure some fields in your package.json.   
{: .fs-3 }   


![web_application33.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application33.png?raw=true)  
package.jsonì´ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. (â€mainâ€: index.js â†’ main.jsë¡œ ë°”ê¿”ì¤€ë‹¤.)   
{: .fs-3 }   

AS-IS   
{: .fs-3 }   

![web_application34.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application34.png?raw=true) 

TO-BE   
{: .fs-3 }   

![web_application35.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application35.png?raw=true) 

</div>
</details>
<br>
> install electron â€”save-dev       
{: .fs-3 }   

You should also now have aÂ node_modulesÂ folder containing the Electron executable, as well as aÂ `package-lock.json`Â lockfile that specifies the exact dependency versions to install.   
{: .fs-3 }   

```
npm install electron â€”save-dev
```

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application36.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application36.png?raw=true) 

node_modules, `package-lock.json`, `package.json` ì½”ë“œì— devDependenciesê°€ ì¶”ê°€ë˜ì—ˆë‹¤!   
{: .fs-3 }   

![web_application37.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application37.png?raw=true) 
</div>
</details>

### Running an Electron app

`package.json` íŒŒì¼ì˜ ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•±ì´ ì‹œì‘ë  ë•Œ ì‹¤í–‰ë˜ëŠ” ì¤‘ì‹¬ì ì¸ ì½”ë“œë¥¼ ë‹´ê³  ìˆìœ¼ë©°, ì´ ì½”ë“œëŠ” ì£¼ë¡œ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì•±ì˜ í•µì‹¬ì ì¸ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•œë‹¤. ì´ í”„ë¡œì„¸ìŠ¤ëŠ” Node.jsë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë©°, ì•±ì˜ ì „ë°˜ì ì¸ ë™ì‘ì„ ì¡°ì •í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.   
{: .fs-3 }   

<details>
<summary>
ë©”ì¸ í”„ë¡œì„¸ìŠ¤ ì§„ì…ì ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°(ìƒëµê°€ëŠ¥)
</summary>
<div markdown="1">
Electronì˜ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ì¼ë°˜ì ì¸ Node.js í™˜ê²½ê³¼ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤. ë”°ë¼ì„œ electron ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´, Node.jsì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆì´ë‚˜ ê¸°ëŠ¥ë“¤ì„ Electron ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œë„ í™œìš©í•  ìˆ˜ ìˆë‹¤.   
{: .fs-3 }   

```
//main.js
// Create a main.js file in the root folder of your project
console.log('Hello from Electron')
```

```
//package.json
//script ì•ˆì— start ì½”ë“œë¥¼ ì¶”ê°€.
"scripts": {
    "start": "electron .",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
```
ê°œë°œ ëª¨ë“œì—ì„œ Electronì„ ì‹¤í–‰í•˜ë ¤ë©´ í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©   
{: .fs-3 }   

```
npm run start
```
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application38.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application38.png?raw=true) 
![web_application39.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application39.png?raw=true) 
![web_application40.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application40.png?raw=true) 
</div>
</details>

</div>
</details>

### Loading a web page into a BrowserWindow

Electronì—ì„œ ê° ì°½ì€ ë¡œì»¬ HTML íŒŒì¼ ë˜ëŠ” ì›ê²© ì›¹ ì£¼ì†Œì—ì„œ ë¡œë“œë  ìˆ˜ ìˆëŠ” ì›¹ í˜ì´ì§€ë¥¼ í‘œì‹œí•œë‹¤. í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ í´ë”ì— `index.html` íŒŒì¼ì„ ë§Œë“¤ì–´ ê¸°ë³¸ ì›¹ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ì! ê·¸ëŸ¼, Electron BrowserWindowì— ë¡œë“œí•  ìˆ˜ ìˆë‹¤.   
{: .fs-3 }   

<details>
<summary>
ì½”ë“œ ë³´ê¸°     
</summary>
<div markdown="1">

```
//index.html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>Hello from Electron renderer!</title>
  </head>
  <body>
    <h1>Hello from Electron renderer!</h1>
    <p>ğŸ‘‹</p>
  </body>
</html>
```
</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application41.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application41.png?raw=true) 
</div>
</details>

main.js ìˆ˜ì •í•˜ê¸°   

<details>
<summary>
ì½”ë“œ ë³´ê¸°     
</summary>
<div markdown="1">

```
//main.js
const { app, BrowserWindow } = require('electron')

const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}

app.whenReady().then(() => {
  createWindow()
})
```

</div>
</details>

<details>
<summary>
ì½”ë“œ ì„¤ëª…     
</summary>
<div markdown="1">
Importing two Electron modules with CommonJS module syntax
{: .fs-3 }   

- *app: ì „ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë²¤íŠ¸ ë¼ì´í”„ì‚¬ì´í´ì„ ì œì–´*
- *BrowserWindow: ì• í”Œë¦¬ì¼€ì´ì…˜ ì°½ì˜ ìƒì„±ê³¼ ê´€ë¦¬ë¥¼ ë‹´ë‹¹*
{: .fs-3 }   

```
const { app, BrowserWindow } = require('electron')
```

Writing a reusable function to instantiate windows (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì—¬ ì°½ì„ ìƒì„±)
{: .fs-3 }   

- *createWindow() í•¨ìˆ˜ëŠ” ìƒˆë¡œìš´ BrowserWindow ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , í•´ë‹¹ ì°½ì˜ êµ¬ì„±ì„ ì„¤ì •í•˜ë©°(width, height, webPreferences ë“±), index.html íŒŒì¼ì„ ì°½ì— ë¡œë“œ*
{: .fs-3 }   

```
const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}
```

Calling your function when the app is ready
{: .fs-3 }   

- *Electronì—ì„œ BrowserWindowì€ app ëª¨ë“ˆì˜ ready ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í›„ì—ë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. app.whenReady() APIë¥¼ ì‚¬ìš©í•˜ê³  í•´ë‹¹ í”„ë¡œë¯¸ìŠ¤ê°€ ì´í–‰ë˜ë©´ createWindow()ì„ í˜¸ì¶œí•¨ìœ¼ë¡œì¨ ì´ ì´ë²¤íŠ¸ë¥¼ ê¸°ë‹¤ë¦´ ìˆ˜ ìˆë‹¤.*
- *ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ˆê¸°í™”ë˜ê³  í•„ìš”í•œ ì„¤ì •ì´ ì™„ë£Œëœ í›„ì— ì°½ì„ ìƒì„±í•˜ë„ë¡ ë³´ì¥*
{: .fs-3 }   

```
app.whenReady().then(() => {
  createWindow()
})
```

ì´ì œ, Electron ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì„±ê³µì ìœ¼ë¡œ ì›¹ í˜ì´ì§€ê°€ í‘œì‹œë˜ëŠ” ì°½ì´ ì—´ë¦´ ê²ƒì´ë‹¤!
{: .fs-3 }   

</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application42.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application42.png?raw=true)

![web_application43.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application43.png?raw=true) 
</div>
</details>

### Managing your app's window lifecycle

*[Windows ë° Linux] ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë“  ì°½ì„ ë‹«ìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì™„ì „íˆ ì¢…ë£Œëœë‹¤. Electron ì•±ì—ì„œ ì´ íŒ¨í„´ì„ êµ¬í˜„í•˜ë ¤ë©´ app ëª¨ë“ˆì˜ **`window-all-closed`** ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³ , ì‚¬ìš©ìê°€ macOSì—ì„œ ì‘ì—… ì¤‘ì´ ì•„ë‹Œ ê²½ìš° app.quit()ì„ í˜¸ì¶œí•˜ì—¬ ì•±ì„ ì¢…ë£Œí•˜ë„ë¡ í•œë‹¤.*   
{: .fs-3 }   

```
app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') app.quit()
})
```
*[macOS] macOSì—ì„œëŠ” ì°½ì„ ë‹«ì•„ë„ ì•±ì´ ì™„ì „íˆ ì¢…ë£Œë˜ì§€ ì•Šê³ , macOS ì•±ì€ ì¼ë°˜ì ìœ¼ë¡œ ì°½ì´ ì—´ë ¤ ìˆì§€ ì•Šì•„ë„ ê³„ì† ì‹¤í–‰ëœë‹¤. ì°½ì´ ì—†ì„ ë•Œ ì•±ì„ í™œì„±í™”í•˜ë©´ ìƒˆ ì°½ì´ ì—´ë¦¬ë„ë¡ í•´ì•¼í•œë‹¤. ì°½ì´ ì¤€ë¹„ë˜ê¸° ì „ì—ëŠ” ì°½ì„ ë§Œë“¤ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì•±ì´ ì´ˆê¸°í™”ëœ í›„ì—ë§Œ activate ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ë„ë¡ í•´ì•¼í•œë‹¤. ê¸°ì¡´ì˜ whenReady() ì½œë°± ë‚´ì—ì„œë§Œ activate ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ë„ë¡ í•œë‹¤.*
{: .fs-3 }   

```
app.whenReady().then(() => {
  createWindow()

  app.on('activate', () => {
    if (BrowserWindow.getAllWindows().length === 0) createWindow()
  })
})
```
---
## 3. Using Preload Scripts
### What is a preload script?

*Electronì˜ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ì „ì²´ ìš´ì˜ ì²´ì œì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” Node.js í™˜ê²½ì´ë‹¤. Electron ëª¨ë“ˆë¿ë§Œ ì•„ë‹ˆë¼ npmì„ í†µí•´ ì„¤ì¹˜í•œ íŒ¨í‚¤ì§€ë‚˜ Node.jsì˜ ê¸°ë³¸ ë‚´ì¥ ëª¨ë“ˆì—ë„ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤. ë°˜ë©´ì—, ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Node.jsë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì›¹ í˜ì´ì§€ë¥¼ ì‹¤í–‰í•œë‹¤.*
{: .fs-3 }   

*Electronì˜ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ ìœ í˜•ì„ í•¨ê»˜ ì—°ê²°í•˜ë ¤ë©´ preloadë¼ê³  ë¶ˆë¦¬ëŠ” íŠ¹ìˆ˜í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.*
{: .fs-3 }   

### Augmenting the renderer with a preload script
`preload.js`   
*preload scriptëŠ” ë Œë”ëŸ¬ì—ì„œ ì›¹ í˜ì´ì§€ê°€ ë¡œë“œë˜ê¸° ì „ì— ì£¼ì…ë˜ë©°, ì´ëŠ” í¬ë¡¬ ìµìŠ¤í…ì…˜ì˜ ì»¨í…íŠ¸ ìŠ¤í¬ë¦½íŠ¸ì™€ ìœ ì‚¬í•˜ë‹¤. íŠ¹ê¶Œ ìˆëŠ” ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•œ ë Œë”ëŸ¬ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë ¤ë©´ contextBridge APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì—­ ê°ì²´ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.*
{: .fs-3 }   

<details>
<summary>
ì½”ë“œë³´ê¸°     
</summary>
<div markdown="1">

```
//preload.js
const { contextBridge } = require('electron')

contextBridge.exposeInMainWorld('versions', {
  node: () => process.versions.node,
  chrome: () => process.versions.chrome,
  electron: () => process.versions.electron
  // we can also expose variables, not just functions
})
```
</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application44.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application44.png?raw=true) 

</div>
</details>

`main.js`

*ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤ì— ì—°ê²°í•˜ë ¤ë©´ BrowserWindow ìƒì„±ìì˜ webPreferences.preload ì˜µì…˜ì— í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ì˜ ê²½ë¡œë¥¼ ì „ë‹¬í•˜ë©´ ëœë‹¤.*
{: .fs-3 }   

<details>
<summary>
ì½”ë“œë³´ê¸°     
</summary>
<div markdown="1">

```
//main.js
const { app, BrowserWindow } = require('electron')
const path = require('node:path')

const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js')
    }
  })

  win.loadFile('index.html')
}

app.whenReady().then(() => {
  createWindow()
})
```
</div>
</details>
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application45.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application45.png?raw=true) 
![web_application46.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application46.png?raw=true) 
</div>
</details>


`renderer.js`

*í˜„ì¬ ì‹œì ì—ì„œ ë Œë”ëŸ¬ëŠ” versions ì „ì—­ ë³€ìˆ˜ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆë‹¤. ì´ ì •ë³´ë¥¼ ì°½ì— í‘œì‹œí•´ ë³´ê² ë‹¤. ì´ ë³€ìˆ˜ëŠ” **window.versions** ë˜ëŠ” ê°„ë‹¨íˆ **versions**ë¥¼ í†µí•´ ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **info**ë¼ëŠ” id ì†ì„±ì„ ê°€ì§„ HTML ìš”ì†Œì˜ í…ìŠ¤íŠ¸ë¥¼ ë³€ê²½í•˜ëŠ” ë°ëŠ” document.getElementById DOM APIë¥¼ ì‚¬ìš©í•˜ê² ë‹¤.*
{: .fs-3 }   

<details>
<summary>
ì½”ë“œë³´ê¸°     
</summary>
<div markdown="1">

```
//renderer.js
const information = document.getElementById('info')
information.innerText = `This app is using Chrome (v${versions.chrome()}), Node.js (v${versions.node()}), and Electron (v${versions.electron()})`
```
</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application47.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application47.png?raw=true) 
</div>
</details>

`index.html`

*index.htmlì„ ìˆ˜ì •í•˜ì—¬ id ì†ì„±ì´ 'info'ì¸ ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ê³ , renderer.js ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì—°ê²°*
{: .fs-3 }   

<details>
<summary>
ì½”ë“œë³´ê¸°     
</summary>
<div markdown="1">
```

#index.html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>Hello from Electron renderer!</title>
  </head>
  <body>
    <h1>Hello from Electron renderer!</h1>
    <p>ğŸ‘‹</p>
    <p id="info"></p>
  </body>
  <script src="./renderer.js"></script>
</html>
```
</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application48.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application48.png?raw=true) 
</div>
</details>

<br>
ì‹¤í–‰ê²°ê³¼
{: .fs-3 }   

![web_application49.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application49.png?raw=true) 

í”„ë¡œì íŠ¸ íŠ¸ë¦¬
{: .fs-3 }   
![web_application50.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application50.png?raw=true) 

---

## 4. Packaging Your Application - Using Electron Forge
Electronì€ í•µì‹¬ ëª¨ë“ˆì— íŒ¨í‚¤ì§• ë° ë°°í¬ ë„êµ¬ê°€ ë‚´ì¥ë˜ì–´ ìˆì§€ ì•Šë‹¤. ë”°ë¼ì„œ ê°œë°œ ëª¨ë“œì—ì„œ ì‘ë™í•˜ëŠ” Electron ì•±ì„ ë°°í¬í•  ìˆ˜ ìˆëŠ” íŒ¨í‚¤ì§€ë¡œ ë§Œë“¤ë ¤ë©´ ì¶”ê°€ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤. ì´ëŸ¬í•œ íŒ¨í‚¤ì§€ë¥¼ ë°°í¬ ê°€ëŠ¥í•œ ì•±ì´ë¼ê³ ë„ í•œë‹¤. ë°°í¬ ê°€ëŠ¥í•œ ì•±ì€ ì„¤ì¹˜ í”„ë¡œê·¸ë¨(ì˜ˆ: Windowsì˜ MSI) ë˜ëŠ” íœ´ëŒ€ìš© ì‹¤í–‰ íŒŒì¼(ì˜ˆ: macOSì˜ .app)ì¼ ìˆ˜ ìˆë‹¤.
{: .fs-3 }   

Electron ForgeëŠ” Electron ì•±ì˜ íŒ¨í‚¤ì§• ë° ë°°í¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì˜¬ì¸ì› ë„êµ¬ì´ë‹¤. ì´ ë„êµ¬ëŠ” í•µì‹¬ì ìœ¼ë¡œ ë§ì€ ê¸°ì¡´ Electron ë„êµ¬ë“¤ (ì˜ˆ: electron-packager, @electron/osx-sign, electron-winstaller ë“±)ì„ ë‹¨ì¼ ì¸í„°í˜ì´ìŠ¤ë¡œ í†µí•©í•˜ì—¬ ì´ë“¤ì„ ëª¨ë‘ í•¨ê»˜ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë„ë¡ ë§Œë“¤ì–´ ì¤€ë‹¤.
{: .fs-3 }   

### Importing your project into Forge
```
npm install --save-dev @electron-forge/cli
npx electron-forge import
```
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application51.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application51.png?raw=true) 

![web_application52.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application52.png?raw=true) 

package.jsonì— forge ê´€ë ¨ ì½”ë“œê°€ ì¶”ê°€ëœë‹¤.
{: .fs-3 }   

![web_application53.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application53.png?raw=true) 


</div>
</details>

### Creating a distributable
```
npm run make
```
<details>
<summary>
make command ì„¤ëª…
</summary>
<div markdown="1">

1. electron-forge package ì‹¤í–‰:   
- ë¨¼ì €, ë‚´ë¶€ì—ì„œ electron-forge package ëª…ë ¹ì„ ì‹¤í–‰.   
- ì´ ëª…ë ¹ì€ Electron ì´ì§„ íŒŒì¼ê³¼ í•¨ê»˜ ì•± ì½”ë“œë¥¼ ë²ˆë“¤ë§. ë²ˆë“¤ë§ëœ ì½”ë“œëŠ” íŠ¹ì • í´ë”ì— ìƒì„±ë¨.
- ì¦‰, Electron ì•± ì½”ë“œì™€ Electron ë°”ì´ë„ˆë¦¬ê°€ í•¨ê»˜ íŒ¨í‚¤ì§•ë˜ì–´ ì‹¤í–‰ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë§Œë“¤ì–´ì§„ë‹¤
2. Distributable ìƒì„±:
- ê·¸ëŸ° ë‹¤ìŒ, ì´ íŒ¨í‚¤ì§€ëœ ì•± í´ë”ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì„¤ì •ëœ ë©”ì´ì»¤(Maker)ì— ëŒ€í•´ ë³„ë„ì˜ ë°°í¬ìš© íŒŒì¼ì„ ìƒì„±.
- ê° ë©”ì´ì»¤ëŠ” íŠ¹ì •í•œ ë°°í¬ í˜•ì‹ ë˜ëŠ” í”Œë«í¼ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, @electron-forge/maker-debì€ Debian ìš´ì˜ ì²´ì œìš© íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•˜ê³ , @electron-forge/maker-squirrelì€ Windowsìš© ì„¤ì¹˜ í”„ë¡œê·¸ë¨ì„ ìƒì„±.
- ì´ë ‡ê²Œ ìƒì„±ëœ ë°°í¬ìš© íŒŒì¼ì€ ì‚¬ìš©ìì—ê²Œ ì œê³µë˜ì–´ ì„¤ì¹˜í•˜ê±°ë‚˜ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ì œê³µ.
{: .fs-3 }   

</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application54.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application54.png?raw=true) 

out folder ì•ˆì— íŒŒì¼ì´ ìƒì„±ë¨.
{: .fs-3 }   

![web_application55.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application55.png?raw=true) 
</div>
</details>
<br>
ì½”ë“œíŠ¸ë¦¬
{: .fs-3 }   

![web_application56.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application56.png?raw=true) 

## 5. Publishing and Updating
### Using update.electronjs.org
*requirements*
- Your app runs on macOS or Windows
- Your app has a public GitHub repository
- Builds are published toÂ [GitHub releases](https://docs.github.com/en/repositories/releasing-projects-on-github/managing-releases-in-a-repository)
- Builds areÂ [code signed](https://www.electronjs.org/docs/latest/tutorial/code-signing)
{: .fs-3 }   

### Publishing a GitHub release
#### a. Generating a personal access token
[create a new personal access token(PAT)](https://github.com/settings/tokens/new) *with theÂ public_repoÂ scope, which gives write access to your public repositories (**repo ì²´í¬**)*   
*PATëŠ” ì €ì¥í•´ë‘¬ì•¼ í•¨.*
{: .fs-3 }   

<details>
<summary>
create a new PAT     
</summary>
<div markdown="1">

![web_application57.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application57.png?raw=true)
</div>
</details>
<br>
#### b. Setting up the GitHub Publisher
##### Installing the module
```
npm install --save-dev @electron-forge/publisher-github
```
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application58.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application58.png?raw=true)
</div>
</details>

##### Configuring the publisher in Forge
```
//forge.config.js
module.exports = {
  publishers: [
    {
      name: '@electron-forge/publisher-github',
      config: {
        repository: {
          owner: 'github-user-name',
          name: 'github-repo-name'
        },
        prerelease: false,
        draft: true
      }
    }
  ]
}
```
<details>
<summary>
ì½”ë“œ í™”ë©´     
</summary>
<div markdown="1">

![web_application59.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application59.png?raw=true)
</div>
</details>

### Running the publish command
#### package.json
```
//package.json
//...
  "scripts": {
    "start": "electron-forge start",
    "package": "electron-forge package",
    "make": "electron-forge make",
    "publish": "electron-forge publish"
  },
  //...
```

<details>
<summary>
ì½”ë“œí™”ë©´     
</summary>
<div markdown="1">

![web_application60.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application60.png?raw=true)
</div>
</details>

#### publish
```
npm run publish
```
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application61.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application61.png?raw=true)
</div>
</details>

#### github release(draft) 
![web_application62.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application62.png?raw=true)

#### publish release
![web_application63.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application63.png?raw=true)

#### release done!
![web_application64.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application64.png?raw=true)
