---
layout: default
title: 2. Building your First App
parent: Electron
nav_order: 3
---

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>

---
## 2. Building your First App - Setting up your project
### Initializing your npm project

#### initalizing an npm package 
Start by creating a folder and initializing an npm package within it withÂ npm init.  
{: .fs-3 }   


```
mkdir my-electron-app
cd my-electron-app
npm init
```
<details>
<summary>
  ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application32.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application32.png?raw=true)    
This command will prompt you to configure some fields in your package.json.   
{: .fs-3 }   


![web_application33.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application33.png?raw=true)  
package.jsonì´ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. (â€mainâ€: index.js â†’ main.jsë¡œ ë°”ê¿”ì¤€ë‹¤.)   
{: .fs-3 }   

AS-IS   
{: .fs-3 }   

![web_application34.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application34.png?raw=true) 

TO-BE   
{: .fs-3 }   

![web_application35.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application35.png?raw=true) 

</div>
</details>

#### install electron â€”save-dev       
{: .fs-3 }   

You should also now have aÂ node_modulesÂ folder containing the Electron executable, as well as aÂ `package-lock.json`Â lockfile that specifies the exact dependency versions to install.   
{: .fs-3 }   

```
npm install electron â€”save-dev
```

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application36.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application36.png?raw=true) 

node_modules, `package-lock.json`, `package.json` ì½”ë“œì— devDependenciesê°€ ì¶”ê°€ë˜ì—ˆë‹¤!   
{: .fs-3 }   

![web_application37.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application37.png?raw=true) 
</div>
</details>

---

### Running an Electron app

`package.json` íŒŒì¼ì˜ ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•±ì´ ì‹œì‘ë  ë•Œ ì‹¤í–‰ë˜ëŠ” ì¤‘ì‹¬ì ì¸ ì½”ë“œë¥¼ ë‹´ê³  ìˆìœ¼ë©°, ì´ ì½”ë“œëŠ” ì£¼ë¡œ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì•±ì˜ í•µì‹¬ì ì¸ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•œë‹¤. ì´ í”„ë¡œì„¸ìŠ¤ëŠ” Node.jsë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë©°, ì•±ì˜ ì „ë°˜ì ì¸ ë™ì‘ì„ ì¡°ì •í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.   
{: .fs-3 }   

<details>
<summary>
ë©”ì¸ í”„ë¡œì„¸ìŠ¤ ì§„ì…ì ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°(ìƒëµê°€ëŠ¥)
</summary>
<div markdown="1">
Electronì˜ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ì¼ë°˜ì ì¸ Node.js í™˜ê²½ê³¼ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤. ë”°ë¼ì„œ electron ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë©”ì¸ í”„ë¡œì„¸ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´, Node.jsì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆì´ë‚˜ ê¸°ëŠ¥ë“¤ì„ Electron ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œë„ í™œìš©í•  ìˆ˜ ìˆë‹¤.   
{: .fs-3 }   

```
//main.js
// Create a main.js file in the root folder of your project
console.log('Hello from Electron')
```

```
//package.json
//script ì•ˆì— start ì½”ë“œë¥¼ ì¶”ê°€.
"scripts": {
    "start": "electron .",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
```
ê°œë°œ ëª¨ë“œì—ì„œ Electronì„ ì‹¤í–‰í•˜ë ¤ë©´ í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©   
{: .fs-3 }   

```
npm run start
```
<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application38.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application38.png?raw=true) 
![web_application39.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application39.png?raw=true) 
![web_application40.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application40.png?raw=true) 
</div>
</details>

</div>
</details>

---
### Loading a web page into a BrowserWindow

Electronì—ì„œ ê° ì°½ì€ ë¡œì»¬ HTML íŒŒì¼ ë˜ëŠ” ì›ê²© ì›¹ ì£¼ì†Œì—ì„œ ë¡œë“œë  ìˆ˜ ìˆëŠ” ì›¹ í˜ì´ì§€ë¥¼ í‘œì‹œí•œë‹¤. í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ í´ë”ì— `index.html` íŒŒì¼ì„ ë§Œë“¤ì–´ ê¸°ë³¸ ì›¹ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ì! ê·¸ëŸ¼, Electron BrowserWindowì— ë¡œë“œí•  ìˆ˜ ìˆë‹¤.   
{: .fs-3 }   

<details>
<summary>
ì½”ë“œ ë³´ê¸°     
</summary>
<div markdown="1">

```
//index.html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>Hello from Electron renderer!</title>
  </head>
  <body>
    <h1>Hello from Electron renderer!</h1>
    <p>ğŸ‘‹</p>
  </body>
</html>
```
</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application41.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application41.png?raw=true) 
</div>
</details>

main.js ìˆ˜ì •í•˜ê¸°   

<details>
<summary>
ì½”ë“œ ë³´ê¸°     
</summary>
<div markdown="1">

```
//main.js
const { app, BrowserWindow } = require('electron')

const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}

app.whenReady().then(() => {
  createWindow()
})
```

</div>
</details>

<details>
<summary>
ì½”ë“œ ì„¤ëª…     
</summary>
<div markdown="1">
Importing two Electron modules with CommonJS module syntax
{: .fs-3 }   

- *app: ì „ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë²¤íŠ¸ ë¼ì´í”„ì‚¬ì´í´ì„ ì œì–´*
- *BrowserWindow: ì• í”Œë¦¬ì¼€ì´ì…˜ ì°½ì˜ ìƒì„±ê³¼ ê´€ë¦¬ë¥¼ ë‹´ë‹¹*
{: .fs-3 }   

```
const { app, BrowserWindow } = require('electron')
```

Writing a reusable function to instantiate windows (ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì—¬ ì°½ì„ ìƒì„±)
{: .fs-3 }   

- *createWindow() í•¨ìˆ˜ëŠ” ìƒˆë¡œìš´ BrowserWindow ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , í•´ë‹¹ ì°½ì˜ êµ¬ì„±ì„ ì„¤ì •í•˜ë©°(width, height, webPreferences ë“±), index.html íŒŒì¼ì„ ì°½ì— ë¡œë“œ*
{: .fs-3 }   

```
const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}
```

Calling your function when the app is ready
{: .fs-3 }   

- *Electronì—ì„œ BrowserWindowì€ app ëª¨ë“ˆì˜ ready ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í›„ì—ë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. app.whenReady() APIë¥¼ ì‚¬ìš©í•˜ê³  í•´ë‹¹ í”„ë¡œë¯¸ìŠ¤ê°€ ì´í–‰ë˜ë©´ createWindow()ì„ í˜¸ì¶œí•¨ìœ¼ë¡œì¨ ì´ ì´ë²¤íŠ¸ë¥¼ ê¸°ë‹¤ë¦´ ìˆ˜ ìˆë‹¤.*
- *ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ˆê¸°í™”ë˜ê³  í•„ìš”í•œ ì„¤ì •ì´ ì™„ë£Œëœ í›„ì— ì°½ì„ ìƒì„±í•˜ë„ë¡ ë³´ì¥*
{: .fs-3 }   

```
app.whenReady().then(() => {
  createWindow()
})
```

ì´ì œ, Electron ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì„±ê³µì ìœ¼ë¡œ ì›¹ í˜ì´ì§€ê°€ í‘œì‹œë˜ëŠ” ì°½ì´ ì—´ë¦´ ê²ƒì´ë‹¤!
{: .fs-3 }   

</div>
</details>

<details>
<summary>
ì‹¤í–‰í™”ë©´     
</summary>
<div markdown="1">

![web_application42.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application42.png?raw=true)

![web_application43.png](https://github.com/Sujinkim-625/Sujinkim-625.github.io/blob/main/docs/nims/image/web_application43.png?raw=true) 
</div>
</details>

---
### Managing your app's window lifecycle

*[Windows ë° Linux] ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë“  ì°½ì„ ë‹«ìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì™„ì „íˆ ì¢…ë£Œëœë‹¤. Electron ì•±ì—ì„œ ì´ íŒ¨í„´ì„ êµ¬í˜„í•˜ë ¤ë©´ app ëª¨ë“ˆì˜ **`window-all-closed`** ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³ , ì‚¬ìš©ìê°€ macOSì—ì„œ ì‘ì—… ì¤‘ì´ ì•„ë‹Œ ê²½ìš° app.quit()ì„ í˜¸ì¶œí•˜ì—¬ ì•±ì„ ì¢…ë£Œí•˜ë„ë¡ í•œë‹¤.*   
{: .fs-3 }   

```
app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') app.quit()
})
```
*[macOS] macOSì—ì„œëŠ” ì°½ì„ ë‹«ì•„ë„ ì•±ì´ ì™„ì „íˆ ì¢…ë£Œë˜ì§€ ì•Šê³ , macOS ì•±ì€ ì¼ë°˜ì ìœ¼ë¡œ ì°½ì´ ì—´ë ¤ ìˆì§€ ì•Šì•„ë„ ê³„ì† ì‹¤í–‰ëœë‹¤. ì°½ì´ ì—†ì„ ë•Œ ì•±ì„ í™œì„±í™”í•˜ë©´ ìƒˆ ì°½ì´ ì—´ë¦¬ë„ë¡ í•´ì•¼í•œë‹¤. ì°½ì´ ì¤€ë¹„ë˜ê¸° ì „ì—ëŠ” ì°½ì„ ë§Œë“¤ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì•±ì´ ì´ˆê¸°í™”ëœ í›„ì—ë§Œ activate ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ë„ë¡ í•´ì•¼í•œë‹¤. ê¸°ì¡´ì˜ whenReady() ì½œë°± ë‚´ì—ì„œë§Œ activate ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ë„ë¡ í•œë‹¤.*
{: .fs-3 }   

```
app.whenReady().then(() => {
  createWindow()

  app.on('activate', () => {
    if (BrowserWindow.getAllWindows().length === 0) createWindow()
  })
})
```